<html>
    <head>
        <meta charset="utf-8">

        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.1/css/bootstrap-slider.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.1/bootstrap-slider.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


        <style>
            .circular-pb, .circular-pb-segment-grad, .circular-pb-segment-solid, .linear-pb-segment{
                width: 200px;
                height: 200px;
            }
            .full-arc{
                stroke:lightgrey;
                stroke-width: 20;
                fill: none; 
            }
            .progress-arc{
                stroke: #90257c;
                stroke-width: 20;
                fill: none;
            }
            .arc-slim{
                stroke-width: 18;
            }
            .progress-arc-gradient{
                stroke: linear-gradient( left, #066b17, #ffc72b 100.0%);
            }
            .progress-value{
                font-family: "Arial Narrow";
                font-weight: 300;
                font-size : 60px;
                fill: #90257c;
                background-color: none;
            }

            .semi-circular-sm .arc1{
                stroke: #c792bd;
                stroke-width: 20;
                fill: none; 
            }
            .semi-circular-sm .arc2{
                stroke : #90257c;
                stroke-width: 20;
                fill: none; 
            }
            .semi-circular-sm .arc3{
                stroke : #731f61;
                stroke-width: 20;
                fill: none; 
            }

            .linear-pb-segment-gradient, .linear-pb-segment, .linear-pb{

            }
            .full-line{
                stroke:lightgrey;
                stroke-width: 10;
            }
           .progress-line{
                stroke: #90257c;
                stroke-width: 10;
            }
            .full-line-left-circle, .full-line-right-circle{
                fill:lightgrey;
            }
            .progress-line-circle{
                fill: #90257c;
            }

        </style>
    </head>

    <body>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="page-header">
                        <h1>SVG widgets</h1>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default center-block text-center">
                        <div class="panel-heading">
                            <h3 class="panel-title">Circular Progress Bars</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-4">
                                    <svg class="circular-pb-segment-grad">
                                        <g>
                                            <path class="full-arc" d ="" 
                                                    stroke-dasharray="14,2" />
                                            <path class="progress-arc progress-arc-gradient" d ="" 
                                                    stroke-dasharray="14,2" />
                                              <text class="progress-value" alignment-baseline="middle" text-anchor="middle" x="" y=""></text>
                                        </g>

                                    </svg>
                                </div>
                                <div class="col-lg-4">
                                    <svg class="circular-pb-segment-solid">
                                        <g>
                                            <path class="full-arc arc-slim" d ="" 
                                                    stroke-dasharray="20,2" />
                                            <path class="progress-arc arc-slim" d ="" 
                                                    stroke-dasharray="20,2" />
                                              <text class="progress-value" alignment-baseline="middle" text-anchor="middle" x="" y=""></text>

                                        </g>

                                    </svg>
                                </div>
                                <div class="col-lg-4">
                                    <svg class="circular-pb">
                                        <g>
                                            <path class="full-arc arc-slim" d =""/>
                                            <path class="progress-arc arc-slim" d =""/>
                                              <text class="progress-value" alignment-baseline="middle" text-anchor="middle" x="" y=""></text>

                                        </g>

                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer">
                            Adjust : <input id="ex1" data-slider-id='ex1Slider' type="text" data-slider-tooltip="hide" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="180"/>
                        </div>
                    </div>

                </div>
                
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default center-block text-center">
                        <div class="panel-heading">
                            <h3 class="panel-title">Semi Circular Speedometer</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-4">
                                    <svg class="semi-circular-sm">
                                        <g>
                                            <path class="arc1" d ="" />
                                            <path class="arc2" d ="" />
                                            <path class="arc3" d ="" />
                                            <path class="marker" d ="" />
                                            <text class="progress-value" alignment-baseline="middle" text-anchor="middle" x="" y=""></text>
                                        </g>

                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer">
                            Adjust : <input id="ex3" data-slider-id='ex3Slider' type="text" data-slider-tooltip="hide" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"/>
                        </div>
                    </div>

                </div>
                
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default center-block text-center">
                        <div class="panel-heading">
                            <h3 class="panel-title">Linear Progress Bar</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-4">
                                    <svg class="linear-pb-segment-grad">
                                        <line class="full-line" x1="" y1="" x2="" y2=""/>
                                        <line class="progress-line" x1="" y1="" x2="" y2=""/>
                                        <path class="full-line-left-circle" d =""/>
                                        <path class="full-line-right-circle" d =""/>
                                    </svg>
                                </div>
                                <div class="col-lg-4">
                                    <svg class="linear-pb-segment">
                                        <line class="full-line" x1="" y1="" x2="" y2=""/>
                                        <line class="progress-line" x1="" y1="" x2="" y2=""/>
                                        <path class="full-line-left-circle" d =""/>
                                        <path class="full-line-right-circle" d =""/>
                                    </svg>
                                </div>
                                <div class="col-lg-4">
                                    <svg class="linear-pb">
                                        <line class="full-line" x1="" y1="" x2="" y2="" />
                                        <line class="progress-line" x1="" y1="" x2="" y2=""/>
                                        <path class="full-line-left-circle" d =""/>
                                        <path class="full-line-right-circle" d =""/>
                                    </svg>
                                </div>
                            </div>
                        <div class="panel-footer">
                            Adjust : <input id="ex2" data-slider-id='ex2Slider' type="text" data-slider-tooltip="hide" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">

            function calcArcPath(cx,cy,r,sangle,eangle){

                sangle = (sangle + 270) % 360;
                eangle = (eangle + 270) % 360;

                var sx = cx + Math.cos(sangle/ 360 * 2 * Math.PI) * r;
                var sy = cy + Math.sin(sangle/ 360 * 2 * Math.PI) * r;

                var ex = cx + Math.cos(eangle/ 360 * 2 * Math.PI) * r;
                var ey = cy + Math.sin(eangle/ 360 * 2 * Math.PI) * r; 
                
                var path = "M " + sx +" " + sy;

                if (eangle > 270){
                    path += " A " + r + " " + r + ",0,0,1," + ex +" " + ey;
                }else if((eangle >= 0) && (eangle <= 90)){
                    path += " A " + r + " " + r + ",0,0,1," + ex +" " + ey;
                }else if((eangle > 90) && (eangle <= 180)){
                    path += " A " + r + " " + r + ",0,1,1," + ex +" " + ey;
                }else if((eangle > 180) && (eangle <= 270)){
                    path += " A " + r + " " + r + ",0,1,1," + ex +" " + ey;
                }

                return path;
            }

            function calcSemiArcPath(cx,cy,r,sangle,eangle){

                sangle = (sangle + 270) % 360;
                eangle = (eangle + 270) % 360;

                var sx = cx + Math.cos(sangle/ 360 * 2 * Math.PI) * r;
                var sy = cy + Math.sin(sangle/ 360 * 2 * Math.PI) * r;

                var ex = cx + Math.cos(eangle/ 360 * 2 * Math.PI) * r;
                var ey = cy + Math.sin(eangle/ 360 * 2 * Math.PI) * r; 
                
                var path = "M " + sx +" " + sy;

                if (eangle > 270){
                    path += " A " + r + " " + r + ",0,0,1," + ex +" " + ey;
                }else if((eangle >= 0) && (eangle <= 90)){
                    path += " A " + r + " " + r + ",0,0,1," + ex +" " + ey;
                }else if((eangle > 90) && (eangle <= 180)){
                    path += " A " + r + " " + r + ",0,1,1," + ex +" " + ey;
                }else if((eangle > 180) && (eangle <= 270)){
                    path += " A " + r + " " + r + ",0,0,1," + ex +" " + ey;
                }

                return path;
            }

            function calcSemiArcPoint(cx,cy,r,sangle){

                sangle = (sangle + 270) % 360;

                var sx = cx + Math.cos(sangle/ 360 * 2 * Math.PI) * r;
                var sy = cy + Math.sin(sangle/ 360 * 2 * Math.PI) * r;
                
                var path = "M " + sx +" " + sy;
                path += "H " + (sx + 10) + "V " + (sy + 10) + "H "+ (sx ) + "Z"

                return path;
            }


            function setSemiCircularSpeedometer(value){


                var tempvalue = (value == 100) ? 99.9999:value;
                var degreeValue = 180 * tempvalue / 100; 
                degreeValue = (degreeValue + 270) % 360;

                var radius = 120, cx = 150, cy = 150,segments = 10;
                var circumference = 2 * Math.PI * radius;

                var arc1 = document.querySelector("svg.semi-circular-sm g path.arc1"); 
                arc1.setAttribute("d", calcSemiArcPath(cx,cy,radius,270,330));
                var arc2 = document.querySelector("svg.semi-circular-sm g path.arc2"); 
                arc2.setAttribute("d", calcSemiArcPath(cx,cy,radius,330,30));
                var arc3 = document.querySelector("svg.semi-circular-sm g path.arc3"); 
                arc3.setAttribute("d", calcSemiArcPath(cx,cy,radius,30,90));

                var arc3 = document.querySelector("svg.semi-circular-sm g path.marker"); 
                arc3.setAttribute("d", calcSemiArcPoint(cx,cy,radius - 15 ,degreeValue));
            }

            function setCircularProgressBarSegementGradient(value){
                
                var tempvalue = (value == 100) ? 99.9999:value;

                var degreeValue = 360 * tempvalue / 100;
                var radius = 90, cx = 100, cy = 100,segments = 16;
                var circumference = 2 * Math.PI * radius;

                var strokeDasharray = circumference/segments -2 +"," + 2;

                var fullArc = document.querySelector("svg.circular-pb-segment-grad g path.full-arc"); 
                fullArc.setAttribute("d", calcArcPath(cx,cy,radius,0,359.9999));
                fullArc.setAttribute("stroke-dasharray", strokeDasharray);


                var progressArc = document.querySelector("svg.circular-pb-segment-grad g path.progress-arc");
                progressArc.setAttribute("d", calcArcPath(cx,cy,radius,0,degreeValue));
                progressArc.setAttribute("stroke-dasharray", strokeDasharray);

                var progressValue= document.querySelector("svg.circular-pb-segment-grad g text.progress-value");
                progressValue.setAttribute("x", cx);
                progressValue.setAttribute("y", cy);
                progressValue.textContent = value + "%"

            }


            function setCircularProgressBarSegementSolid(value){
                var tempvalue = (value == 100) ? 99.9999:value;
                
                var degreeValue = 360 * tempvalue / 100;

                var radius = 90, cx = 100, cy = 100,segments = 10;
                var circumference = 2 * Math.PI * radius;

                var strokeDasharray = circumference/segments - 1 +"," + 1;

                var fullArc = document.querySelector("svg.circular-pb-segment-solid g path.full-arc"); 
                fullArc.setAttribute("d", calcArcPath(cx,cy,radius,0,359.9999));
                fullArc.setAttribute("stroke-dasharray", strokeDasharray);


                var progressArc = document.querySelector("svg.circular-pb-segment-solid g path.progress-arc");
                progressArc.setAttribute("d", calcArcPath(cx,cy,radius,0,degreeValue));
                progressArc.setAttribute("stroke-dasharray", strokeDasharray);

                var progressValue= document.querySelector("svg.circular-pb-segment-solid g text.progress-value");
                progressValue.setAttribute("x", cx);
                progressValue.setAttribute("y", cy);
                progressValue.textContent = value + "%"

            }


            function setCircularProgressBar(value){

                var tempvalue = (value == 100) ? 99.9999:value;
                
                var degreeValue = 360 * tempvalue / 100;
                var radius = 90, cx = 100, cy = 100,segments = 10;
                var circumference = 2 * Math.PI * radius;

                //var strokeDasharray = circumference/segments - 1 +"," + 1;

                var fullArc = document.querySelector("svg.circular-pb g path.full-arc"); 
                fullArc.setAttribute("d", calcArcPath(cx,cy,radius,0,359.9999));
                //fullArc.setAttribute("stroke-dasharray", strokeDasharray);


                var progressArc = document.querySelector("svg.circular-pb g path.progress-arc");
                progressArc.setAttribute("d", calcArcPath(cx,cy,radius,0,degreeValue));
                //progressArc.setAttribute("stroke-dasharray", strokeDasharray);

                var progressValue= document.querySelector("svg.circular-pb g text.progress-value");
                progressValue.setAttribute("x", cx);
                progressValue.setAttribute("y", cy);
                progressValue.textContent = value + "%"
                
            }

            function setAllCircularProgressBars(value){
                setCircularProgressBarSegementGradient(value);
                setCircularProgressBarSegementSolid(value);
                setCircularProgressBar(value);
            }


            function setLinearProgressBarSegmentGrad(value){

                var radius = 5, cx1 = 10, cy1 = 100, cx2 = 190, cy2 = 100, segments = 5;

                var length = cx2 - cx1;

                var strokeDasharray = length/segments - 1 +"," + 1;

                var progresscx2= cx1 + length * value/100;

                var fullLine = document.querySelector("svg.linear-pb-segment-grad line.full-line")
                fullLine.setAttribute("x1",cx1);
                fullLine.setAttribute("y1",cy1);
                fullLine.setAttribute("x2",cx2);
                fullLine.setAttribute("y2",cy2);
                fullLine.setAttribute("stroke-dasharray", strokeDasharray);

                var fullLineLeftCircle = document.querySelector("svg.linear-pb-segment-grad path.full-line-left-circle")
                fullLineLeftCircle.setAttribute("d",calcArcPath(cx1,cy1,radius,180,360));
                
                var fullLineRightCircle = document.querySelector("svg.linear-pb-segment-grad path.full-line-right-circle")
                fullLineRightCircle.setAttribute("d",calcArcPath(cx2-1,cy2,radius,0,180));


                var progressLine = document.querySelector("svg.linear-pb-segment-grad line.progress-line")
                progressLine.setAttribute("x1",cx1);
                progressLine.setAttribute("y1",cy1);
                progressLine.setAttribute("x2",progresscx2);
                progressLine.setAttribute("y2",cy2);
                progressLine.setAttribute("stroke-dasharray", strokeDasharray);

                if(value > 0 ){
                    fullLineLeftCircle.classList.add("progress-line-circle");
                }else{
                    fullLineLeftCircle.classList.remove("progress-line-circle");
                }

                if(value > 99 ){
                    fullLineRightCircle.classList.add("progress-line-circle");
                }else{
                    fullLineRightCircle.classList.remove("progress-line-circle");
                }


            }

            function setLinearProgressBarSegment(value){

                var radius = 5, cx1 = 10, cy1 = 100, cx2 = 190, cy2 = 100, segments = 5;

                var length = cx2 - cx1;

                var strokeDasharray = length/segments - 1 +"," + 1;

                var progresscx2= cx1 + length * value/100;

                var fullLine = document.querySelector("svg.linear-pb-segment line.full-line")
                fullLine.setAttribute("x1",cx1);
                fullLine.setAttribute("y1",cy1);
                fullLine.setAttribute("x2",cx2);
                fullLine.setAttribute("y2",cy2);
                fullLine.setAttribute("stroke-dasharray", strokeDasharray);

                var fullLineLeftCircle = document.querySelector("svg.linear-pb-segment path.full-line-left-circle")
                fullLineLeftCircle.setAttribute("d",calcArcPath(cx1,cy1,radius,180,360));
                
                var fullLineRightCircle = document.querySelector("svg.linear-pb-segment path.full-line-right-circle")
                fullLineRightCircle.setAttribute("d",calcArcPath(cx2-1,cy2,radius,0,180));


                var progressLine = document.querySelector("svg.linear-pb-segment line.progress-line")
                progressLine.setAttribute("x1",cx1);
                progressLine.setAttribute("y1",cy1);
                progressLine.setAttribute("x2",progresscx2);
                progressLine.setAttribute("y2",cy2);
                progressLine.setAttribute("stroke-dasharray", strokeDasharray);

                if(value > 0 ){
                    fullLineLeftCircle.classList.add("progress-line-circle");
                }else{
                    fullLineLeftCircle.classList.remove("progress-line-circle");
                }

                if(value > 99 ){
                    fullLineRightCircle.classList.add("progress-line-circle");
                }else{
                    fullLineRightCircle.classList.remove("progress-line-circle");
                }


            }

            function setLinearProgressBar(value){

                var radius = 5, cx1 = 10, cy1 = 100, cx2 = 190, cy2 = 100, segments = 5;

                var length = cx2 - cx1;

                //var strokeDasharray = length/segments - 1 +"," + 1;

                var progresscx2= cx1 + length * value/100;

                var fullLine = document.querySelector("svg.linear-pb line.full-line")
                fullLine.setAttribute("x1",cx1);
                fullLine.setAttribute("y1",cy1);
                fullLine.setAttribute("x2",cx2);
                fullLine.setAttribute("y2",cy2);
                //fullLine.setAttribute("stroke-dasharray", strokeDasharray);

                var fullLineLeftCircle = document.querySelector("svg.linear-pb path.full-line-left-circle")
                fullLineLeftCircle.setAttribute("d",calcArcPath(cx1,cy1,radius,180,360));
                
                var fullLineRightCircle = document.querySelector("svg.linear-pb path.full-line-right-circle")
                fullLineRightCircle.setAttribute("d",calcArcPath(cx2-1,cy2,radius,0,180));


                var progressLine = document.querySelector("svg.linear-pb line.progress-line")
                progressLine.setAttribute("x1",cx1);
                progressLine.setAttribute("y1",cy1);
                progressLine.setAttribute("x2",progresscx2);
                progressLine.setAttribute("y2",cy2);
                //progressLine.setAttribute("stroke-dasharray", strokeDasharray);

                if(value > 0 ){
                    fullLineLeftCircle.classList.add("progress-line-circle");
                }else{
                    fullLineLeftCircle.classList.remove("progress-line-circle");
                }

                if(value > 99 ){
                    fullLineRightCircle.classList.add("progress-line-circle");
                }else{
                    fullLineRightCircle.classList.remove("progress-line-circle");
                }


            }

            function setAllLinearProgressBars(value){
                setLinearProgressBarSegmentGrad(value);
                setLinearProgressBarSegment(value);
                setLinearProgressBar(value);
            }

            // Without JQuery
            $('#ex1').slider({
                    formatter: function(value) {
                       setAllCircularProgressBars(value) 
                }
            });
            // Without JQuery
            $('#ex2').slider({
                    formatter: function(value) {
                       setAllLinearProgressBars(value) 
                }
            });


            $('#ex3').slider({
                    formatter: function(value) {
                       setSemiCircularSpeedometer(value) 
                }
            });


            setAllCircularProgressBars(50);

            setAllLinearProgressBars(50);

            setSemiCircularSpeedometer(50)


        </script>

    </body>
</html>